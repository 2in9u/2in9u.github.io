---
#layout: posts
excerpt: ""
title: "[C++] ğŸ“‚. íƒ€ì…ë³€í™˜(Casting)"

categories:
    - cpp
# tag:
#     [cpp, c++, oop]

toc_label: "ëª©ì°¨"
toc: true
toc_sticky: true

date: 2021-11-27
last_modified_at: 2021-11-27

#published: false
---

# 1. static_cast
- <https://docs.microsoft.com/ko-kr/cpp/cpp/static-cast-operator?view=msvc-170>
- ìƒì‹ì ì¸ íƒ€ì…ë³€í™˜ì„ ì§€ì›
   1. int â†” float (ì •ìˆ˜í˜•, ì‹¤ìˆ˜í˜• ë³€í™˜)
   2. Base* â†” Derived* (`ë‹¤ìš´ ìºìŠ¤íŒ…`, ìƒì†ê´€ê³„ ë³€í™˜)

```c++
// 1.
int num = 20;
int maxNum = 300;
float ratio = static_cast<float>(num) / maxNum;

// 2.  
Base* b = new Derived_A();
Derived_A* d_a = static_cast<Derived_A*>(b);
// â— ë‹¨ì  : ì•ˆì •ì„± ë³´ì¥ ëª»í•¨
Deribed_B* d_b = static_cast<Derived_B*>(b); 
```

<br>

# 2. dynamic_cast
- <https://docs.microsoft.com/ko-kr/cpp/cpp/dynamic-cast-operator?view=msvc-170>
- RTTI(RunTime Type Information) â†’ virtualì´ ìˆëŠ” ê²½ìš° ì‚¬ìš©
- virtual í•¨ìˆ˜ë¥¼ í•˜ë‚˜ë¼ë„ ë§Œë“¤ì—ˆìœ¼ë©´, ê°ì²´ ë©”ëª¨ë¦¬ì— ê°€ìƒí•¨ìˆ˜ í…Œì´ë¸” ì£¼ì†Œê°€ ê¸°ì…ëœë‹¤. ì´ ì£¼ì†Œë¥¼ ì´ìš©í•˜ì—¬ ìºìŠ¤íŒ…ì— ì‚¬ìš©í•œë‹¤.
- ì˜ëª»ëœ íƒ€ì…ìœ¼ë¡œ ìºìŠ¤íŒ… í•˜ë©´ `nullptr` ë°˜í™˜

```c++
class A {};
class B : public A {};
class C : public B {};
// ì—… ìºìŠ¤íŠ¸
C* c = new C();
B* b = dynamic_cast<B*>(c);
A* a = dynamic_cast<A*>(c);
```

```c++
class A {virtual void f();};
class B : public A {virtual void f();};
class C : public A {virtual void f();};
// ë‹¤ìš´ ìºìŠ¤íŠ¸
A* a = new B();
B* b = dynamic_cast<B*>(a);
C* c = dynamic_cast<C*>(a); // return nullptr
```

<br>

# 3. const_cast
- <https://docs.microsoft.com/ko-kr/cpp/cpp/const-cast-operator?view=msvc-170>
- ìƒìˆ˜(const)ë¥¼ ë¶™ì´ê±°ë‚˜ ì œê±°í•  ë•Œ ì‚¬ìš©

```c++
void PrintName(char* name) { cout << name << endl; }

PrintName(const_cast<char*>("2in9u"));
```

<br>

# 4. reinterpret_cast
- <https://docs.microsoft.com/ko-kr/cpp/cpp/reinterpret-cast-operator?view=msvc-170>
- í¬ì¸í„°ì™€ ì „í˜€ ê´€ê³„ ì—†ëŠ” ë‹¤ë¥¸ íƒ€ì… ë³€í™˜

```c++
class A {};
class B {};

A* a = new A();
//
__int64 address = reinterpret_cast<__int64>(a);
//
B* b = reinterpret_cast<B*>(a);
//
void* p = malloc(1000);
B* bb = reinterpret_cast<B*>(p);
```

<br>

# ğŸ“‘. ì°¸ê³ 
* [í™©ê¸°íƒœ(2013). (ëª…í’ˆ)C++ Programming. íŒŒì£¼:ìƒëŠ¥ì¶œíŒì‚¬.](https://www.booksr.co.kr/html/book/book.asp?seq=697053)
* [Rookiss. [C++ê³¼ ì–¸ë¦¬ì–¼ë¡œ ë§Œë“œëŠ” MMORPG ê²Œì„ ê°œë°œ ì‹œë¦¬ì¦ˆ]Part1: C++ í”„ë¡œê·¸ë˜ë° ì…ë¬¸. Inflearn.](https://www.inflearn.com/course/%EC%96%B8%EB%A6%AC%EC%96%BC-3d-mmorpg-1/dashboard)