---
#layout: posts
excerpt: ""
title: "[C++] ğŸ“‚. vector<T>"

categories:
    - cpp
# tag:
#     [cpp, c++, oop]

toc_label: "ëª©ì°¨"
toc: true
toc_sticky: true

date: 2022-09-12
last_modified_at: 2022-09-12
---

# std::vector\<`T`\> ì»¨í…Œì´ë„ˆ
* í¬ê¸°ê°€ ë™ì ì¸ ë°°ì—´ì´ë‹¤.
* ì»¨í…Œì´ë„ˆ ëì—ì„œ ì›ì†Œë¥¼ ì¶”ê°€/ì‚­ì œ í•  ë•Œ íš¨ìœ¨ì ì´ë‹¤.
* Random Accessë¥¼ ì œê³µí•œë‹¤.
 
## 0. capacityì™€ size
* `capacity`(ìš©ëŸ‰, `vector<T>::size_type`): ë©”ëª¨ë¦¬ë¥¼ ì¶”ê°€ í• ë‹¹í•˜ì§€ ì•Šì•„ë„ ì €ì¥í•  ìˆ˜ ìˆëŠ” ì›ì†Œë“¤ì˜ ê°œìˆ˜
* `size`(í¬ê¸°, `vector<T>::size_type`): ì‹¤ì œë¡œ ê°–ê³  ìˆëŠ” ì›ì†Œë“¤ì˜ ê°œìˆ˜
```c++
vec.reserve(n);     // capacityë¥¼ nìœ¼ë¡œ ì„¤ì •
// vecì˜ capacityê°€ në³´ë‹¤ í¬ê±°ë‚˜ ê°™ë‹¤ë©´(<=) ë³€í™” ì—†ë‹¤.
// capacityê°€ ì¦ê°€í•˜ë©´ ì£¼ì†Œê°€ ë°”ë€Œì—ˆê¸° ë•Œë¬¸ì— ê¸°ì¡´ì˜ iteratorëŠ” ë¬´íš¨í™”ëœë‹¤.
// capacityëŠ” logì¦ê°€ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤.
```

## 1. ìƒì„±í•˜ê¸°
```c++
#include <vector>
std::vector<T> vec;                 // ì„ ì–¸ (capacity:0, size:0)
// vecì˜ ì²« ë²ˆì§¸ ë°ì´í„°ë¥¼ ì¶”ê°€í•  ë•Œ ë©”ëª¨ë¦¬ê°€ í• ë‹¹ëœë‹¤.

std::vector<T> vec(n);              // 0ìœ¼ë¡œ ì´ˆê¸°í™”ëœ ì›ì†Œ nê°œ ìƒì„±
std::vector<T> vec(n, t);           // të¡œ ì´ˆê¸°í™”ëœ ì›ì†Œ nê°œ ìƒì„±
std::vector<T> vec {t1, t2, t3};    // t1, t2, t3ë¡œ ì´ˆê¸°í™”ëœ ë²¡í„° ìƒì„± (capacity:3, size:3)

std::array<T, 5> arr {t1, t2, t3, t4, t5};
std::vector<T> copy_vec {std::begin(arr), std::end(arr)};    // arrayë¥¼ ë³µì‚¬í•˜ì—¬ ìƒì„±
std::vector<T> move_vec {make_move_iterator(std::begin(arr)), make_move_iterator(std::end(arr))};                // arrayë¥¼ ì´ë™í•˜ì—¬ ìƒì„±(ì´ë™ ë°˜ë³µì)
```

<details>
<summary>ìƒì„±í•˜ê¸° í…ŒìŠ¤íŠ¸ ğŸ”</summary>
<div markdown="1">
1. vec.capacity(), vec.size()ì˜ ê´€ê³„
```
size: 0, capacity: 0    // ìƒì„±
size: 1, capacity: 1
size: 2, capacity: 2
size: 3, capacity: 3
size: 4, capacity: 4
size: 5, capacity: 6
size: 6, capacity: 6
size: 7, capacity: 9
size: 8, capacity: 9
size: 9, capacity: 9
size: 10, capacity: 13
size: 11, capacity: 13
size: 12, capacity: 13
size: 13, capacity: 13
size: 14, capacity: 19
size: 15, capacity: 19
size: 16, capacity: 19
size: 17, capacity: 19
size: 18, capacity: 19
size: 19, capacity: 19
size: 20, capacity: 28
size: 21, capacity: 28
size: 22, capacity: 28
size: 23, capacity: 28
size: 24, capacity: 28
size: 25, capacity: 28
size: 26, capacity: 28
size: 27, capacity: 28
size: 28, capacity: 28
size: 29, capacity: 42
size: 30, capacity: 42
size: 31, capacity: 42
size: 32, capacity: 42
size: 33, capacity: 42
size: 34, capacity: 42
size: 35, capacity: 42
size: 36, capacity: 42
size: 37, capacity: 42
size: 38, capacity: 42
size: 39, capacity: 42
size: 40, capacity: 42
size: 41, capacity: 42
size: 42, capacity: 42
size: 43, capacity: 63
size: 44, capacity: 63
size: 45, capacity: 63
size: 46, capacity: 63
size: 47, capacity: 63
size: 48, capacity: 63
size: 49, capacity: 63
size: 50, capacity: 63
```
2. make_move_iterator
```
(/* ê³µë¶€ í›„ ì¶”ê°€*/)
```
</div>
</details>

<br>

## 2. ì ‘ê·¼í•˜ê¸°
```c++
T front = vec.front();  // ì²« ë²ˆì§¸ ì›ì†Œì˜ ì°¸ì¡°ê°’
T back = vec.back();    // ë§ˆì§€ë§‰ ì›ì†Œì˜ ì°¸ì¡°ê°’
T value = vec[index];   // indexì˜ ì›ì†Œì˜ ì°¸ì¡°ê°’
T* data = vec.data();   // ì›ì†Œë¥¼ ì €ì¥í•˜ëŠ” ë°°ì—´ì— ëŒ€í•œ í¬ì¸í„°
```
<br>

## 3. ë°˜ë³µì(Iterator)
```c++
#include <iterator>
// 1. input
std::copy(std::istream_iterator<T>(std::cin), std::istream_iterator<T>(), std::back_iterator(vec));
// 2. output
std::copy(std::begin(vec), std::end(vec), std::ostream_iterator<T>(std::cout, " "));
```

<br>

## 4. ì›ì†Œ ì‚½ì…í•˜ê¸°
```c++
// ë§¨ ë’¤ì— ê°ì²´(t) ì‚½ì…
vec.push_back(t);       // ê°ì œ(t)ë¥¼ ë³„ë„ë¡œ ìƒì„±í•˜ì—¬ ì¸ìˆ˜ë„ ì „ë‹¬ (ì¶”ê°€ ì´ë™ì—°ì‚° í•„ìš”, r-value ì°¸ì¡°)
vec.emplace_back(t);    // ë‚´ë¶€ì—ì„œ ê°ì²´(t)ë¥¼ ë°”ë¡œ ìƒì„± (ë‚´ë¶€ì— ìƒì„±ìë¡œ ìƒì„±, push_backë³´ë‹¤ íš¨ìœ¨ì ì´ë‹¤.)
```
- vectorëŠ” ëì´ ì•„ë‹Œ ìœ„ì¹˜ì— ê°’ì„ ì‚½ì…í•˜ëŠ” ëª¨ë“  ì‘ì—…ì€ `ë¶€í•˜`ê°€ ìˆë‹¤.
  
```c++
vec.emplace(ì‚½ì…ìœ„ì¹˜ iter, t);  // ì›í•˜ëŠ” ìœ„ì¹˜ì— ê°ì²´(t)ë¥¼ ì‚½ì…
vec.insert(ì‚½ì…ìœ„ì¹˜ iter, t);   // ì›í•˜ëŠ” ìœ„ì¹˜ì— ê°ì²´(t)ë¥¼ ì‚½ì…

T t_arr[] {t1, t2, t3, t4};
vec.insert(ì‚½ì…ìœ„ì¹˜ iter, std::begin(t_arr), std::end(t_arr));  // ìˆœì°¨ì—´ ì‚½ì…

vec.insert(ì‚½ì…ìœ„ì¹˜ iter, count, t);            // të¥¼ countê°œ ë§Œí¼ ì‚½ì…
vec.insert(ì‚½ì…ìœ„ì¹˜ iter, {t1, t2, t3, t4});    // ì´ˆê¸°í™” ë¦¬ìŠ¤íŠ¸ë¡œ ì‚½ì…
```
<br>

## 5. ì›ì†Œ ì‚­ì œí•˜ê¸°
```c++
vec.clear();    // ì›ì†Œ ì „ì²´ ì‚­ì œ (size:0, capacity:ê·¸ëŒ€ë¡œ)
vec.pop_back(); // ë§ˆì§€ë§‰ ì›ì†Œ ì‚­ì œ
// ì¤‘ê°„ì˜ ì›ì†Œ ì‚­ì œ
std::swap(ì‚­ì œì›ì†Œ iter, std::end(vec)-1);
vec.pop_back();
```

```c++
vec.erase(ì‚­ì œìœ„ì¹˜ iter);                   // ì›í•˜ëŠ” ìœ„ì¹˜ì˜ ê°ì²´ ì‚­ì œ 
vec.erase(ì‹œì‘ìœ„ì¹˜ iter, ë+1ìœ„ì¹˜ iter);    // ì›í•˜ëŠ” ë²”ìœ„ì˜ ê°ì²´ ì‚­ì œ

// erase-remove idiom
auto iter = std::remove(std::begin(vec), std::end(vec). t); // vecì—ì„œ tì™€ ê°™ì€ ì›ì†Œ ì‚­ì œ
vec.erase(iter, std::end(vec)); // ì‰ì—¬ ì›ì†Œ ì‚­ì œ (removeì—ì„œ ì‚­ì œëœ ê°ì²´ëŠ” ë¹ˆ ê°ì²´ë¡œ ì¡´ì¬í•œë‹¤.)
```

```c++
vec.shrink_to_fit();    // ì›ì†Œì— í•„ìš”í•œ ë§Œí¼ capacityë¥¼ ì¤„ì¸ë‹¤. (ì´ì „ ë°˜ë³µìëŠ” ë¬´íš¨í™” ëœë‹¤.)
```

<br>
